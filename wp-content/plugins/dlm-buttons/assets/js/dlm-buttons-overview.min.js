jQuery(function(a){a("#dlm_buttons_new")&&new DLM_Buttons_Form_New(a("#dlm_buttons_new"))});var DLM_Buttons_Form_New=function(a){this.container=a,this.templateNameInput=null,this.saveButton=null,this.isBusy=!1,this.setup=function(){var a=this;this.templateNameInput=jQuery(this.container).find(".dlm_buttons_new_template_name:first"),this.saveButton=jQuery(this.container).find(".dlm_buttons_new_form_button:first"),jQuery(this.container).submit(function(){return a.save(),!1})},this.setup()};DLM_Buttons_Form_New.prototype.save=function(){if(!this.isBusy){if(""===this.templateNameInput.val())return void alert(dlm_buttons_overview_strings.error_empty_template_name);var a=this;this.isBusy=!0;var b={action:"dlm_buttons_add_template",template_name:a.templateNameInput.val(),security:dlm_buttons_overview_strings.nonce_add_template};console.log(b),jQuery.post(ajaxurl,b,function(b){a.isBusy=!1,!0===b.success?window.location=dlm_buttons_overview_strings.button_edit_url_base+"&dlm_buttons_button="+b.template_name:b.errorMessage&&alert(b.errorMessage)})}};